(this.webpackJsonpgellery=this.webpackJsonpgellery||[]).push([[0],{32:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),l=a(33),c=a.n(l),o=(a(39),a(8)),r=a(9),i=a(11),d=a(10),m=(a.p,a(40),a(12)),j=a(17),b=a.p+"static/media/hero.45ffbf79.jpg",h=(a(41),a(18)),u=a(15),g=a.n(u),x="http://localhost:5000",f=function(){return g.a.get(x+"/viewdata").then((function(e){return console.log(e.data),e.data})).catch((function(e){console.log(e)}))},v=a(14),O=a(0),p=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).logout=function(){localStorage.clear(),window.location.href="login"},s.uploader=function(){var e,t=new FormData;t.append("myFile",s.state.file,s.state.file.name),console.log(s.state.file),(e=t,g.a.post(x+"/upload",e).then((function(e){return console.log(e.data),e.data})).catch((function(e){console.log(e)}))).then((function(e){console.log(e.name,e.id),function(e){return g.a.post(x+"/setdata",e).then((function(e){return console.log(e.data),e.data})).catch((function(e){console.log(e)}))}({iduser:s.state.decode.id,nameuser:s.state.decode.name,imgname:e.name,idimg:e.id}).then((function(e){"success"==e.status&&window.location.reload()}))}))},s.state={file:null,decode:"",data:[]},s.handleChange=s.handleChange.bind(Object(j.a)(s)),s}return Object(r.a)(a,[{key:"handleChange",value:function(e){console.log(e.target.files[0]),this.setState({file:e.target.files[0]})}},{key:"componentDidMount",value:function(){var e=this;f().then((function(t){console.log(t.data),e.setState({data:t.data})})),null!=localStorage.getItem("token")&&this.setState({decode:Object(h.a)(localStorage.getItem("token"))})}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{children:[Object(O.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("a",{className:"navbar-brand",href:"home",children:[Object(O.jsx)("i",{className:"fas fa-film mr-2"}),"Catalog-Z"]}),Object(O.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(O.jsx)("i",{className:"fas fa-bars"})}),Object(O.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(O.jsxs)("ul",{className:"navbar-nav ml-auto mb-2 mb-lg-0",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)("a",{className:"nav-link nav-link-1 active","aria-current":"page",href:"/home",children:"Photos"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{className:"nav-link",style:Object(m.a)({cursor:"-webkit-grab"},"cursor","grab"),children:this.state.decode.name})}),null!=localStorage.getItem("token")?Object(O.jsx)("li",{children:Object(O.jsx)("a",{className:"nav-link ",style:Object(m.a)({color:"red",cursor:"-webkit-grab"},"cursor","grab"),onClick:this.logout,children:"Logout"})}):Object(O.jsx)("li",{children:Object(O.jsx)("a",{className:"nav-link ",style:Object(m.a)({color:"blue",cursor:"-webkit-grab"},"cursor","grab"),onClick:this.logout,children:"Login"})})]})})]})}),null!=localStorage.getItem("token")?Object(O.jsx)("div",{className:"tm-hero d-flex justify-content-center align-items-center","data-parallax":"scroll","data-image-src":b,children:Object(O.jsxs)("div",{style:{width:"30%",textAlign:"center"},children:[Object(O.jsx)("input",{class:"form-control form-control-lg",type:"file",onChange:function(t){return e.setState({file:t.target.files[0]})}}),Object(O.jsx)("div",{style:{paddingTop:"20px"},children:Object(O.jsx)("a",{className:"btn btn-primary tm-btn-next",onClick:this.uploader,children:"submit"})})]})}):null,Object(O.jsxs)("div",{className:"container-fluid tm-container-content tm-mt-60",children:[Object(O.jsx)("div",{className:"row mb-4",children:Object(O.jsx)("h2",{className:"col-6 tm-text-primary",children:"Photos"})}),Object(O.jsx)("div",{className:"row tm-mb-90 tm-gallery",children:this.state.data.map((function(e,t){return console.log(e),Object(O.jsxs)("div",{className:"col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-5",children:[Object(O.jsxs)("figure",{className:"effect-ming tm-video-item",children:[Object(O.jsx)("img",{src:"https://drive.google.com/uc?export=view&id="+e[0],alt:"Image",className:"img-fluid"}),Object(O.jsxs)("figcaption",{className:"d-flex align-items-center justify-content-center",children:[Object(O.jsx)("h2",{children:e[3]}),Object(O.jsx)(v.b,{to:{pathname:"/detail",state:e[0]}})]})]}),Object(O.jsxs)("div",{className:"d-flex justify-content-between tm-text-gray",children:[Object(O.jsx)("span",{className:"tm-text-gray-light",children:e[2]}),Object(O.jsx)("span",{children:"0 views"})]})]})}))})]})," "]})}}]),a}(n.a.Component),N=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).logout=function(){localStorage.clear(),window.location.href="login"},s.state={file:null,decode:"",data:[]},s}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("dkfjs",window.location.href.split("/")[3]),f().then((function(t){console.log(t.data),e.setState({data:t.data})})),null!=localStorage.getItem("token")&&this.setState({decode:Object(h.a)(localStorage.getItem("token"))})}},{key:"render",value:function(){var e=this.props.location.state;return console.log("kkkkk",e),Object(O.jsxs)("div",{children:[Object(O.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("a",{className:"navbar-brand",href:"home",children:[Object(O.jsx)("i",{className:"fas fa-film mr-2"}),"Catalog-Z"]}),Object(O.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(O.jsx)("i",{className:"fas fa-bars"})}),Object(O.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(O.jsxs)("ul",{className:"navbar-nav ml-auto mb-2 mb-lg-0",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)("a",{className:"nav-link nav-link-1 active","aria-current":"page",href:"/home",children:"Photos"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{className:"nav-link",style:Object(m.a)({cursor:"-webkit-grab"},"cursor","grab"),children:this.state.decode.name})}),null!=localStorage.getItem("token")?Object(O.jsx)("li",{children:Object(O.jsx)("a",{className:"nav-link ",style:Object(m.a)({color:"red",cursor:"-webkit-grab"},"cursor","grab"),onClick:this.logout,children:"Logout"})}):Object(O.jsx)("li",{children:Object(O.jsx)("a",{className:"nav-link ",style:Object(m.a)({color:"blue",cursor:"-webkit-grab"},"cursor","grab"),onClick:this.logout,children:"Login"})})]})})]})}),Object(O.jsx)("div",{className:"tm-hero d-flex justify-content-center align-items-center","data-parallax":"scroll","data-image-src":b}),Object(O.jsxs)("div",{className:"container-fluid tm-container-content tm-mt-60",children:[Object(O.jsx)("div",{className:"row mb-4",children:Object(O.jsx)("h2",{className:"col-12 tm-text-primary",children:"Photo Detail"})}),Object(O.jsxs)("div",{className:"row tm-mb-90",children:[Object(O.jsx)("div",{className:"col-xl-8 col-lg-7 col-md-6 col-sm-12",children:Object(O.jsx)("img",{src:"https://drive.google.com/uc?export=view&id="+e,alt:"Image",className:"img-fluid"})}),Object(O.jsx)("div",{className:"col-xl-4 col-lg-5 col-md-6 col-sm-12",children:Object(O.jsx)("div",{className:"tm-bg-gray tm-video-details",children:null!=localStorage.getItem("token")?Object(O.jsx)("div",{className:"text-center mb-5",children:Object(O.jsx)("a",{href:"https://drive.google.com/uc?id="+e+"&export=download",className:"btn btn-primary tm-btn-big",children:"Download"})}):null})})]}),Object(O.jsx)("div",{className:"row mb-4",children:Object(O.jsx)("h2",{className:"col-12 tm-text-primary",children:"Related Photos"})}),Object(O.jsx)("div",{className:"row mb-3 tm-gallery",children:this.state.data.map((function(t,a){return console.log(t),t[0]!=e?Object(O.jsxs)("div",{className:"col-xl-3 col-lg-4 col-md-6 col-sm-6 col-12 mb-5",children:[Object(O.jsxs)("figure",{className:"effect-ming tm-video-item",children:[Object(O.jsx)("img",{src:"https://drive.google.com/uc?export=view&id="+t[0],alt:"Image",className:"img-fluid"}),Object(O.jsxs)("figcaption",{className:"d-flex align-items-center justify-content-center",children:[Object(O.jsx)("h2",{children:t[3]}),Object(O.jsx)(v.b,{to:{pathname:"/detail",state:t[0]}})]})]}),Object(O.jsxs)("div",{className:"d-flex justify-content-between tm-text-gray",children:[Object(O.jsx)("span",{className:"tm-text-gray-light",children:t[2]}),Object(O.jsx)("span",{children:"0 views"})]})]}):null}))})," "]})," "]})}}]),a}(s.Component),w=(a(32),function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).sendata=function(){var e;console.log(s.state.email),console.log(s.state.password),(e={name:s.state.name+" "+s.state.lastname,email:s.state.email,password:s.state.password},g.a.post(x+"/signin",e).then((function(e){return console.log(e.data),e.data})).catch((function(e){console.log(e)}))).then((function(e){"singin success"==e.status&&(window.location.href="home",localStorage.setItem("token",e.token))}))},s.state={email:"",password:""},s}return Object(r.a)(a,[{key:"componentDidMount",value:function(){null!=localStorage.getItem("token")&&(window.location.href="home")}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{children:[Object(O.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("a",{className:"navbar-brand",href:"home",children:[Object(O.jsx)("i",{className:"fas fa-film mr-2"}),"Catalog-Z"]}),Object(O.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(O.jsx)("i",{className:"fas fa-bars"})}),Object(O.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(O.jsx)("ul",{className:"navbar-nav ml-auto mb-2 mb-lg-0",children:Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)("a",{className:"nav-link nav-link-1 active","aria-current":"page",href:"/home",children:"Photos"})})})})]})}),Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{style:{width:"30%"},children:[Object(O.jsxs)("div",{className:"form-outline mb-4",children:[Object(O.jsx)("input",{type:"email",id:"form2Example1",className:"form-control",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}),Object(O.jsx)("label",{className:"form-label",htmlFor:"form2Example1",children:"Email address"})]}),Object(O.jsxs)("div",{className:"form-outline mb-4",children:[Object(O.jsx)("input",{type:"password",id:"form2Example2",className:"form-control",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),Object(O.jsx)("label",{className:"form-label",htmlFor:"form2Example2",children:"Password"})]}),Object(O.jsxs)("div",{className:"row mb-4",children:[Object(O.jsx)("div",{className:"col d-flex justify-content-center",children:Object(O.jsx)("a",{href:"#!",children:"Forgot password?"})}),Object(O.jsx)("div",{className:"col"})]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-4",onClick:this.sendata,children:"Login"}),Object(O.jsx)("div",{className:"text-center",children:Object(O.jsxs)("p",{children:["Not a member? ",Object(O.jsx)("a",{href:"register",children:"Register"})]})})]})})]})}}]),a}(s.Component)),k=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).sendata=function(){var e;console.log(s.state.name),console.log(s.state.lastname),console.log(s.state.email),console.log(s.state.password),(e={name:s.state.name+" "+s.state.lastname,email:s.state.email,password:s.state.password},g.a.post(x+"/signup",e).then((function(e){return console.log(e.data),e.data})).catch((function(e){console.log(e)}))).then((function(e){"success"==e.status&&(window.location.href="login")}))},s.state={name:"",lastname:"",email:"",password:""},s}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{children:[Object(O.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(O.jsxs)("div",{className:"container-fluid",children:[Object(O.jsxs)("a",{className:"navbar-brand",href:"home",children:[Object(O.jsx)("i",{className:"fas fa-film mr-2"}),"Catalog-Z"]}),Object(O.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(O.jsx)("i",{className:"fas fa-bars"})}),Object(O.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(O.jsx)("ul",{className:"navbar-nav ml-auto mb-2 mb-lg-0",children:Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)("a",{className:"nav-link nav-link-1 active","aria-current":"page",href:"/home",children:"Photos"})})})})]})}),Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"row mb-4",children:[Object(O.jsx)("div",{className:"col",children:Object(O.jsxs)("div",{className:"form-outline",children:[Object(O.jsx)("input",{type:"text",id:"form3Example1",className:"form-control",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}}),Object(O.jsx)("label",{className:"form-label",htmlFor:"form3Example1",children:"First name"})]})}),Object(O.jsx)("div",{className:"col",children:Object(O.jsxs)("div",{className:"form-outline",children:[Object(O.jsx)("input",{type:"text",id:"form3Example2",className:"form-control",value:this.state.lastname,onChange:function(t){return e.setState({lastname:t.target.value})}}),Object(O.jsx)("label",{className:"form-label",htmlFor:"form3Example2",children:"Last name"})]})})]}),Object(O.jsxs)("div",{className:"form-outline mb-4",children:[Object(O.jsx)("input",{type:"email",id:"form3Example3",className:"form-control",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}),Object(O.jsx)("label",{className:"form-label",htmlFor:"form3Example3",children:"Email address"})]}),Object(O.jsxs)("div",{className:"form-outline mb-4",children:[Object(O.jsx)("input",{type:"password",id:"form3Example4",className:"form-control",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),Object(O.jsx)("label",{className:"form-label",htmlFor:"form3Example4",children:"Password"})]}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-4",onClick:this.sendata,children:"Sign up"}),Object(O.jsx)("div",{className:"text-center"})]})})]})}}]),a}(s.Component),y=a(2),C=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(O.jsx)(v.a,{children:Object(O.jsxs)(y.c,{children:[Object(O.jsx)(y.a,{path:"/detail",component:N}),Object(O.jsx)(y.a,{path:"/register",children:Object(O.jsx)(k,{})}),Object(O.jsx)(y.a,{path:"/home",children:Object(O.jsx)(p,{})}),Object(O.jsx)(y.a,{path:"/login",children:Object(O.jsx)(w,{})}),Object(O.jsx)(y.a,{path:"/",children:Object(O.jsx)(p,{})})]})})}}]),a}(s.Component),S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,67)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),l(e),c(e)}))};c.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(C,{})}),document.getElementById("root")),S()}},[[66,1,2]]]);
//# sourceMappingURL=main.1141692b.chunk.js.map